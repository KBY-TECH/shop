<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    {{>include/head}}
</head>
<body class="ecommerce">
{{>include/seller/header}}
<div class="main">
    <div class="container">
        <h2>상품 등록</h2>
        <h3>상품 기본 정보</h3>
        <div>
            등록 상품명
            <input type="text" name="productName" value="{{productName}}">
            <input type="text" id="product-id" value="{{productID}}">
        </div>
        <div>
            카테고리
            <div id="categories">{{#categories}} {{.}} {{/categories}} </div>
        </div>
        <div>
            <h3>구매옵션</h3>
            <input type="button" class="btn-newRow" value="옵션 추가" id = "{{optionSize}}" />
            <input type="button" class="btn-stop" value="판매상태 변경">
            <table border="1" id="options">
                <tr align="center">
                    <td rowspan="2" valign="bottom"><input type="checkbox" id="check-all"></td>
                    <td>구매옵션정보</td>
                    <td rowspan="2">판매상태</td>
                    <td rowspan="2">판매가격</td>
                    <td rowspan="2">재고 수량</td>
                    <td rowspan="2">대표 이미지</td>
                    <td rowspan="2">상세 설명</td>
                    <td rowspan="2">고시정보</td>
                </tr>
                <tr align="center">
                    <td>색상</td>
                </tr>
                {{#options}}
                <tr class="{{id}}" align="center">
                    <td><input type="checkbox" name="check"></td>
                    <td><input type="text" name="optionName" value="{{optionName}}"></td>
                    <td class="state">{{state}}</td>
                    <td><input type="text" name="price" value="{{price}}" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></td>
                    <td><input type="text" name="stock" value="{{stock}}" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></td>
                    <td><input type="file" name="mainImage" accept="image/jpeg, image/png"></td>
                    <td><input type="file" name="detailImage" accept="image/jpeg, image/png"></td>
                    <td><input type="button" class="btn-information" value="등록" onclick="openInformation(this)"></td>
                </tr>
                {{/options}}
            </table>
            <button id="btn-update" type="button">등록하기</button>
        </div>
    </div>
</div>


    {{#options}}
    <div class="hover-information {{id}}" >
        <span class="helper"></span>
        <div class="information">
            <p>아이템의 고시정보를 입력하세요.</p>
            <table border="1">
                <tr align="center">
                    <td>고시정보명</td>
                    <td>내용</td>
                </tr>
                <tr align="center">
                    <td>품목 또는 명칭</td>
                    <td><textarea class="default" name="meatPart">{{information.meatPart}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>포장단위별 내용물의 용량(중량),수량,크기</td>
                    <td><textarea class="default" name="capacityByPackingUnit">{{information.capacityByPackingUnit}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>생산자(수입자)</td>
                    <td><textarea class="default" name="producer">{{information.producer}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>원산지</td>
                    <td><textarea class="default" name="origin">{{information.origin}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>제조연월일,유통기한</td>
                    <td><textarea class="default" name="qualityMaintenanceDate">{{information.qualityMaintenanceDate}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>관련법상 표시사항</td>
                    <td><textarea class="default" name="indication">{{information.indication}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>수입식품 문구 여부</td>
                    <td><textarea class="default" name="importedFood">{{information.importedFood}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>상품구성</td>
                    <td><textarea class="default" name="composition">{{information.composition}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>보관방법,취급방법</td>
                    <td><textarea class="default" name="storageMethod">{{information.storageMethod}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>소비자안전을 위한 주의사항</td>
                    <td><textarea class="default" name="precautions">{{information.precaution}}</textarea></td>
                </tr>
                <tr align="center">
                    <td>소비자상담관련 전화번호</td>
                    <td><textarea class="default" name="consumerCounselingPhoneNum">{{information.consumerCounselingPhoneNum}}</textarea></td>
                </tr>
            </table>
            <input type="button" value="등록하기" onclick="closeInformation()">
        </div>
    </div>
    {{/options}}

<script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="/js/seller.js"></script>
<script>
    let btnNewRow = $('.btn-newRow');
    let rows = Number(btnNewRow.attr('id'));
    btnNewRow.click(function(){
        addRow(++rows);
        addMeat(rows);
    });
    post.init("meat");
    //이미지 입력 input을 버튼으로 변경하고 클릭시 스크립트 내 array에 add하는 방식으로 변경
</script>
</body>
</html>